<!DOCTYPE html>
<html lang="sv">
  <head>
    <meta charset="UTF-8" />
    <title>Inspektionsrapport</title>
    <style>
      body {
        font-family: Arial, Helvetica, sans-serif;
        font-size: 12pt;
        margin: 20mm;
      }

      h1 {
        text-align: center;
        font-size: 20pt;
        font-weight: bold;
        margin: 0 0 14pt 0;
      }

      .project-info {
        margin-bottom: 18pt;
      }

      .project-info p {
        margin: 3pt 0;
      }

      .label {
        font-weight: bold;
      }

      h2 {
        font-size: 14pt;
        font-weight: bold;
        text-decoration: underline;
        margin: 10pt 0 8pt 0;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        table-layout: fixed;
      }

      th,
      td {
        border: 0.5pt solid #000;
        padding: 4pt 6pt;
        vertical-align: top;
        font-size: 11pt;
        word-wrap: break-word;
      }

      th {
        font-weight: bold;
        text-align: left;
      }

      th.col-delomrade {
        width: 30%;
      }

      th.col-kommentar {
        width: 50%;
      }

      th.col-bild {
        width: 20%;
      }

      td.bild-cell {
        text-align: center;
      }

      td.bild-cell img {
        max-width: 45mm;
        max-height: 45mm;
        object-fit: contain;
        display: block;
        margin: 0 auto;
      }

      .no-notes {
        margin-top: 6pt;
        font-style: italic;
      }
    </style>
  </head>
  <body>
    <h1>Inspektionsrapport</h1>

    <div class="project-info">
      <p><span class="label">Projektets namn:</span> {{project.name}}</p>
      <p><span class="label">Adress:</span> {{project.address}}</p>
      <p><span class="label">Datum för inspektion:</span> {{project.date}}</p>
      <p><span class="label">Namn på inspektör:</span> {{project.inspector}}</p>
    </div>

    <h2>Inspektionsanteckningar</h2>

    {{#if hasNotes}}
    <table>
      <thead>
        <tr>
          <th class="col-delomrade">Delområde</th>
          <th class="col-kommentar">Kommentar</th>
          <th class="col-bild">Bild</th>
        </tr>
      </thead>
      <tbody>
        {{#each notes}}
        <tr>
          <td>{{delomrade}}</td>
          <td>{{comment}}</td>
          <td class="bild-cell">
            {{#if imageUrl}}
            <img src="{{imageUrl}}" alt="Bild" />
            {{/if}}
          </td>
        </tr>
        {{/each}}
      </tbody>
    </table>
    {{else}}
    <p class="no-notes">Inga inspektionsanteckningar.</p>
    {{/if}}
  </body>
</html>
